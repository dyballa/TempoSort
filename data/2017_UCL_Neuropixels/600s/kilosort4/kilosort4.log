2025-03-31 23:40:09,350 kilosort.run_kilosort INFO     Kilosort version 4.0.25
2025-03-31 23:40:09,360 kilosort.run_kilosort INFO     Python version 3.9.21
2025-03-31 23:40:09,361 kilosort.run_kilosort INFO     ----------------------------------------
2025-03-31 23:40:09,362 kilosort.run_kilosort INFO     System information:
2025-03-31 23:40:09,362 kilosort.run_kilosort INFO     Linux-4.18.0-477.74.1.el8_8.x86_64-x86_64-with-glibc2.28 x86_64
2025-03-31 23:40:09,363 kilosort.run_kilosort INFO     x86_64
2025-03-31 23:40:09,363 kilosort.run_kilosort INFO     Using GPU for PyTorch computations. Specify `device` to change this.
2025-03-31 23:40:09,364 kilosort.run_kilosort INFO     Using CUDA device: NVIDIA A100-PCIE-40GB 39.50GB
2025-03-31 23:40:09,365 kilosort.run_kilosort INFO     ----------------------------------------
2025-03-31 23:40:09,366 kilosort.run_kilosort INFO     Sorting /home/lss72/palmer_scratch/spike_sort/neuropixels.bin
2025-03-31 23:40:09,366 kilosort.run_kilosort INFO     Interpreting binary file as default dtype='int16'. If data was saved in a different format, specify `data_dtype`.
2025-03-31 23:40:09,367 kilosort.run_kilosort DEBUG    Initial ops:

ops = {
    'n_chan_bin': 385,
    'fs': 30000,
    'batch_size': 60000,
    'nblocks': 1,
    'Th_universal': 9,
    'Th_learned': 8,
    'tmin': 0,
    'tmax': 600,
    'nt': 61,
    'shift': None,
    'scale': None,
    'artifact_threshold': inf,
    'nskip': 25,
    'whitening_range': 32,
    'highpass_cutoff': 300,
    'binning_depth': 5,
    'sig_interp': 20,
    'drift_smoothing': [0.5, 0.5, 0.5],
    'nt0min': 20,
    'dmin': None,
    'dminx': 32,
    'min_template_size': 10,
    'template_sizes': 5,
    'nearest_chans': 10,
    'nearest_templates': 100,
    'max_channel_distance': 32,
    'max_peels': 100,
    'templates_from_data': True,
    'n_templates': 6,
    'n_pcs': 6,
    'Th_single_ch': 6,
    'acg_threshold': 0.2,
    'ccg_threshold': 0.25,
    'cluster_downsampling': 20,
    'x_centers': None,
    'duplicate_spike_ms': 0.25,
    'position_limit': 100,
    'data_dir': PosixPath('/home/lss72/palmer_scratch/spike_sort'),
    'probe_path': 'forPRBimecP3opt3.mat',
    'filename': PosixPath('/home/lss72/palmer_scratch/spike_sort/neuropixels.bin'),
    'data_dtype': 'int16',
    'do_CAR': True,
    'invert_sign': False,
    'NTbuff': 60122,
    'Nchan': 374,
    'duplicate_spike_bins': 7,
    'torch_device': 'cuda',
    'save_preprocessed_copy': False
}

2025-03-31 23:40:09,378 kilosort.run_kilosort DEBUG    Probe dictionary:

probe = {
    'xc': np.array([41., 11., 59., 29., 41., 11., 59., 29., 41., 11., 59., 29., 41.,
       11., 59., 29., 41., 11., 59., 29., 41., 11., 59., 29., 41., 11.,
       59., 29., 41., 11., 59., 29., 41., 11., 59., 29., 11., 59., 29.,
       41., 11., 59., 29., 41., 11., 59., 29., 41., 11., 59., 29., 41.,
       11., 59., 29., 41., 11., 59., 29., 41., 11., 59., 29., 41., 11.,
       59., 29., 41., 11., 59., 29., 41., 11., 59., 41., 11., 59., 29.,
       41., 11., 59., 29., 41., 11., 59., 29., 41., 11., 59., 29., 41.,
       11., 59., 29., 41., 11., 59., 29., 41., 11., 59., 29., 41., 11.,
       59., 29., 41., 11., 59., 29., 11., 59., 29., 41., 11., 59., 29.,
       41., 11., 59., 29., 41., 11., 59., 29., 41., 11., 59., 29., 41.,
       11., 59., 29., 41., 11., 59., 29., 41., 11., 59., 29., 41., 11.,
       59., 29., 41., 11., 59., 41., 11., 59., 29., 41., 11., 59., 29.,
       41., 11., 59., 29., 41., 11., 59., 29., 41., 11., 59., 29., 41.,
       11., 59., 29., 41., 11., 59., 29., 41., 11., 59., 29., 41., 11.,
       59., 29., 11., 59., 29., 41., 11., 59., 29., 41., 11., 59., 29.,
       41., 11., 59., 29., 41., 11., 59., 29., 41., 11., 59., 29., 41.,
       11., 59., 29., 41., 11., 59., 29., 41., 11., 59., 29., 41., 11.,
       59., 41., 11., 59., 29., 41., 11., 59., 29., 41., 11., 59., 29.,
       41., 11., 59., 29., 41., 11., 59., 29., 41., 11., 59., 29., 41.,
       11., 59., 29., 41., 11., 59., 29., 41., 11., 59., 29., 11., 59.,
       29., 41., 11., 59., 29., 41., 11., 59., 29., 41., 11., 59., 29.,
       41., 11., 59., 29., 41., 11., 59., 29., 41., 11., 59., 29., 41.,
       11., 59., 29., 41., 11., 59., 29., 41., 11., 59., 41., 11., 59.,
       29., 41., 11., 59., 29., 41., 11., 59., 29., 41., 11., 59., 29.,
       41., 11., 59., 29., 41., 11., 59., 29., 41., 11., 59., 29., 41.,
       11., 59., 29., 41., 11., 59., 29., 11., 59., 29., 41., 11., 59.,
       29., 41., 11., 59., 29., 41., 11., 59., 29., 41., 11., 59., 29.,
       41., 11., 59., 29., 41., 11., 59., 29., 41., 11., 59., 29., 41.,
       11., 59., 29., 41., 11., 59., 41., 11., 59., 29.], dtype=np.float32),
    'yc': np.array([  20.,   20.,   40.,   40.,   60.,   60.,   80.,   80.,  100.,
        100.,  120.,  120.,  140.,  140.,  160.,  160.,  180.,  180.,
        200.,  200.,  220.,  220.,  240.,  240.,  260.,  260.,  280.,
        280.,  300.,  300.,  320.,  320.,  340.,  340.,  360.,  360.,
        380.,  400.,  400.,  420.,  420.,  440.,  440.,  460.,  460.,
        480.,  480.,  500.,  500.,  520.,  520.,  540.,  540.,  560.,
        560.,  580.,  580.,  600.,  600.,  620.,  620.,  640.,  640.,
        660.,  660.,  680.,  680.,  700.,  700.,  720.,  720.,  740.,
        740.,  760.,  780.,  780.,  800.,  800.,  820.,  820.,  840.,
        840.,  860.,  860.,  880.,  880.,  900.,  900.,  920.,  920.,
        940.,  940.,  960.,  960.,  980.,  980., 1000., 1000., 1020.,
       1020., 1040., 1040., 1060., 1060., 1080., 1080., 1100., 1100.,
       1120., 1120., 1140., 1160., 1160., 1180., 1180., 1200., 1200.,
       1220., 1220., 1240., 1240., 1260., 1260., 1280., 1280., 1300.,
       1300., 1320., 1320., 1340., 1340., 1360., 1360., 1380., 1380.,
       1400., 1400., 1420., 1420., 1440., 1440., 1460., 1460., 1480.,
       1480., 1500., 1500., 1520., 1540., 1540., 1560., 1560., 1580.,
       1580., 1600., 1600., 1620., 1620., 1640., 1640., 1660., 1660.,
       1680., 1680., 1700., 1700., 1720., 1720., 1740., 1740., 1760.,
       1760., 1780., 1780., 1800., 1800., 1820., 1820., 1840., 1840.,
       1860., 1860., 1880., 1880., 1900., 1920., 1920., 1940., 1940.,
       1960., 1960., 1980., 1980., 2000., 2000., 2020., 2020., 2040.,
       2040., 2060., 2060., 2080., 2080., 2100., 2100., 2120., 2120.,
       2140., 2140., 2160., 2160., 2180., 2180., 2200., 2200., 2220.,
       2220., 2240., 2240., 2260., 2260., 2280., 2300., 2300., 2320.,
       2320., 2340., 2340., 2360., 2360., 2380., 2380., 2400., 2400.,
       2420., 2420., 2440., 2440., 2460., 2460., 2480., 2480., 2500.,
       2500., 2520., 2520., 2540., 2540., 2560., 2560., 2580., 2580.,
       2600., 2600., 2620., 2620., 2640., 2640., 2660., 2680., 2680.,
       2700., 2700., 2720., 2720., 2740., 2740., 2760., 2760., 2780.,
       2780., 2800., 2800., 2820., 2820., 2840., 2840., 2860., 2860.,
       2880., 2880., 2900., 2900., 2920., 2920., 2940., 2940., 2960.,
       2960., 2980., 2980., 3000., 3000., 3020., 3020., 3040., 3060.,
       3060., 3080., 3080., 3100., 3100., 3120., 3120., 3140., 3140.,
       3160., 3160., 3180., 3180., 3200., 3200., 3220., 3220., 3240.,
       3240., 3260., 3260., 3280., 3280., 3300., 3300., 3320., 3320.,
       3340., 3340., 3360., 3360., 3380., 3380., 3400., 3400., 3420.,
       3440., 3440., 3460., 3460., 3480., 3480., 3500., 3500., 3520.,
       3520., 3540., 3540., 3560., 3560., 3580., 3580., 3600., 3600.,
       3620., 3620., 3640., 3640., 3660., 3660., 3680., 3680., 3700.,
       3700., 3720., 3720., 3740., 3740., 3760., 3760., 3780., 3780.,
       3800., 3820., 3820., 3840., 3840.], dtype=np.float32),
    'kcoords': np.array([0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.],
      dtype=np.float32),
    'chanMap': np.array([  0,   1,   2,   3,   4,   5,   6,   7,   8,   9,  10,  11,  12,
        13,  14,  15,  16,  17,  18,  19,  20,  21,  22,  23,  24,  25,
        26,  27,  28,  29,  30,  31,  32,  33,  34,  35,  37,  38,  39,
        40,  41,  42,  43,  44,  45,  46,  47,  48,  49,  50,  51,  52,
        53,  54,  55,  56,  57,  58,  59,  60,  61,  62,  63,  64,  65,
        66,  67,  68,  69,  70,  71,  72,  73,  74,  76,  77,  78,  79,
        80,  81,  82,  83,  84,  85,  86,  87,  88,  89,  90,  91,  92,
        93,  94,  95,  96,  97,  98,  99, 100, 101, 102, 103, 104, 105,
       106, 107, 108, 109, 110, 111, 113, 114, 115, 116, 117, 118, 119,
       120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132,
       133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145,
       146, 147, 148, 149, 150, 152, 153, 154, 155, 156, 157, 158, 159,
       160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172,
       173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185,
       186, 187, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199,
       200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212,
       213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225,
       226, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239,
       240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252,
       253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 265, 266,
       267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279,
       280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292,
       293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 304, 305, 306,
       307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319,
       320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332,
       333, 334, 335, 336, 337, 338, 339, 341, 342, 343, 344, 345, 346,
       347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359,
       360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372,
       373, 374, 375, 376, 377, 378, 380, 381, 382, 383], dtype=np.int32),
    'n_chan': 384
}

2025-03-31 23:40:09,378 kilosort.run_kilosort INFO      
2025-03-31 23:40:09,379 kilosort.run_kilosort INFO     Computing preprocessing variables.
2025-03-31 23:40:09,379 kilosort.run_kilosort INFO     ----------------------------------------
2025-03-31 23:40:09,382 kilosort.run_kilosort INFO     N samples: 18000000
2025-03-31 23:40:09,382 kilosort.run_kilosort INFO     N seconds: 600.0
2025-03-31 23:40:09,382 kilosort.run_kilosort INFO     N batches: 300
2025-03-31 23:40:10,068 kilosort.run_kilosort INFO     Preprocessing filters computed in  0.69s; total  0.70s
2025-03-31 23:40:10,069 kilosort.run_kilosort DEBUG    hp_filter shape: torch.Size([30122])
2025-03-31 23:40:10,069 kilosort.run_kilosort DEBUG    whiten_mat shape: torch.Size([374, 374])
2025-03-31 23:40:10,069 kilosort.run_kilosort INFO      
2025-03-31 23:40:10,069 kilosort.run_kilosort INFO     Resource usage after preprocessing
2025-03-31 23:40:10,069 kilosort.run_kilosort INFO     ********************************************************
2025-03-31 23:40:10,070 kilosort.run_kilosort INFO     CPU usage:    26.90 %
2025-03-31 23:40:10,071 kilosort.run_kilosort INFO     Memory:       13.29 %     |    100.28   /   754.60 GB
2025-03-31 23:40:10,071 kilosort.run_kilosort INFO     ------------------------------------------------------
2025-03-31 23:40:10,071 kilosort.run_kilosort INFO     GPU usage:    `conda install pynvml` for GPU usage
2025-03-31 23:40:10,072 kilosort.run_kilosort INFO     GPU memory:   14.33 %     |      5.66   /    39.50 GB
2025-03-31 23:40:10,072 kilosort.run_kilosort INFO     Allocated:     0.03 %     |      0.01   /    39.50 GB
2025-03-31 23:40:10,073 kilosort.run_kilosort INFO     Max alloc:     8.35 %     |      3.30   /    39.50 GB
2025-03-31 23:40:10,073 kilosort.run_kilosort INFO     ********************************************************
2025-03-31 23:40:10,091 kilosort.run_kilosort INFO      
2025-03-31 23:40:10,091 kilosort.run_kilosort INFO     Computing drift correction.
2025-03-31 23:40:10,092 kilosort.run_kilosort INFO     ----------------------------------------
2025-03-31 23:40:10,093 kilosort.spikedetect INFO     Re-computing universal templates from data.
2025-03-31 23:40:11,485 kilosort.spikedetect INFO     Number of universal templates: 1532
2025-03-31 23:40:11,592 kilosort.spikedetect INFO     Detecting spikes...
2025-03-31 23:40:11,594 kilosort.spikedetect DEBUG     
2025-03-31 23:40:11,594 kilosort.spikedetect DEBUG    Batch 0
2025-03-31 23:40:11,594 kilosort.spikedetect DEBUG    ********************************************************
2025-03-31 23:40:11,594 kilosort.spikedetect DEBUG    CPU usage:    19.80 %
2025-03-31 23:40:11,594 kilosort.spikedetect DEBUG    Memory:       13.31 %     |    100.44   /   754.60 GB
2025-03-31 23:40:11,594 kilosort.spikedetect DEBUG    ------------------------------------------------------
2025-03-31 23:40:11,594 kilosort.spikedetect DEBUG    GPU usage:    `conda install pynvml` for GPU usage
2025-03-31 23:40:11,594 kilosort.spikedetect DEBUG    GPU memory:   14.33 %     |      5.66   /    39.50 GB
2025-03-31 23:40:11,595 kilosort.spikedetect DEBUG    Allocated:     0.03 %     |      0.01   /    39.50 GB
2025-03-31 23:40:11,595 kilosort.spikedetect DEBUG    Max alloc:     8.35 %     |      3.30   /    39.50 GB
2025-03-31 23:40:11,595 kilosort.spikedetect DEBUG    ********************************************************
2025-03-31 23:41:37,324 kilosort.spikedetect DEBUG     
2025-03-31 23:41:37,324 kilosort.spikedetect DEBUG    Batch 299
2025-03-31 23:41:37,324 kilosort.spikedetect DEBUG    ********************************************************
2025-03-31 23:41:37,325 kilosort.spikedetect DEBUG    CPU usage:    30.40 %
2025-03-31 23:41:37,325 kilosort.spikedetect DEBUG    Memory:       13.41 %     |    101.18   /   754.60 GB
2025-03-31 23:41:37,325 kilosort.spikedetect DEBUG    ------------------------------------------------------
2025-03-31 23:41:37,325 kilosort.spikedetect DEBUG    GPU usage:    `conda install pynvml` for GPU usage
2025-03-31 23:41:37,325 kilosort.spikedetect DEBUG    GPU memory:   14.33 %     |      5.66   /    39.50 GB
2025-03-31 23:41:37,326 kilosort.spikedetect DEBUG    Allocated:     0.29 %     |      0.11   /    39.50 GB
2025-03-31 23:41:37,326 kilosort.spikedetect DEBUG    Max alloc:     8.36 %     |      3.30   /    39.50 GB
2025-03-31 23:41:37,326 kilosort.spikedetect DEBUG    ********************************************************
2025-03-31 23:41:38,441 kilosort.run_kilosort INFO     drift computed in  88.35s; total  89.07s
2025-03-31 23:41:38,442 kilosort.run_kilosort DEBUG    st shape: (1782696, 6)
2025-03-31 23:41:38,442 kilosort.run_kilosort DEBUG    yblk shape: (1,)
2025-03-31 23:41:38,442 kilosort.run_kilosort DEBUG    dshift shape: (300, 1)
2025-03-31 23:41:38,442 kilosort.run_kilosort DEBUG    iKxx shape: torch.Size([374, 374])
2025-03-31 23:41:38,446 kilosort.run_kilosort INFO      
2025-03-31 23:41:38,446 kilosort.run_kilosort INFO     Resource usage after drift correction
2025-03-31 23:41:38,447 kilosort.run_kilosort INFO     ********************************************************
2025-03-31 23:41:38,447 kilosort.run_kilosort INFO     CPU usage:    30.30 %
2025-03-31 23:41:38,448 kilosort.run_kilosort INFO     Memory:       13.34 %     |    100.67   /   754.60 GB
2025-03-31 23:41:38,448 kilosort.run_kilosort INFO     ------------------------------------------------------
2025-03-31 23:41:38,449 kilosort.run_kilosort INFO     GPU usage:    `conda install pynvml` for GPU usage
2025-03-31 23:41:38,449 kilosort.run_kilosort INFO     GPU memory:   14.33 %     |      5.66   /    39.50 GB
2025-03-31 23:41:38,450 kilosort.run_kilosort INFO     Allocated:     0.03 %     |      0.01   /    39.50 GB
2025-03-31 23:41:38,450 kilosort.run_kilosort INFO     Max alloc:     8.36 %     |      3.30   /    39.50 GB
2025-03-31 23:41:38,451 kilosort.run_kilosort INFO     ********************************************************
2025-03-31 23:41:38,451 kilosort.run_kilosort DEBUG    

|===========================================================================|
|                  PyTorch CUDA memory summary, device ID 0                 |
|---------------------------------------------------------------------------|
|            CUDA OOMs: 0            |        cudaMalloc retries: 0         |
|===========================================================================|
|        Metric         | Cur Usage  | Peak Usage | Tot Alloc  | Tot Freed  |
|---------------------------------------------------------------------------|
| Allocated memory      |  14019 KiB |   3379 MiB |  62198 GiB |  62198 GiB |
|---------------------------------------------------------------------------|
| Active memory         |  14019 KiB |   3379 MiB |  62198 GiB |  62198 GiB |
|---------------------------------------------------------------------------|
| Requested memory      |  14015 KiB |   3379 MiB |  62170 GiB |  62170 GiB |
|---------------------------------------------------------------------------|
| GPU reserved memory   |   5230 MiB |   5230 MiB |   5230 MiB |      0 B   |
|---------------------------------------------------------------------------|
| Non-releasable memory |  39228 KiB |   2297 MiB |  36817 GiB |  36817 GiB |
|---------------------------------------------------------------------------|
| Allocations           |      20    |      48    |    3318 K  |    3318 K  |
|---------------------------------------------------------------------------|
| Active allocs         |      20    |      48    |    3318 K  |    3318 K  |
|---------------------------------------------------------------------------|
| GPU reserved segments |      18    |      18    |      18    |       0    |
|---------------------------------------------------------------------------|
| Non-releasable allocs |      10    |      25    |    1360 K  |    1360 K  |
|---------------------------------------------------------------------------|
| Oversize allocations  |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Oversize GPU segments |       0    |       0    |       0    |       0    |
|===========================================================================|


2025-03-31 23:41:38,525 kilosort.run_kilosort DEBUG    First batch min, max: (-40.374645, 16.789804)
2025-03-31 23:41:38,525 kilosort.run_kilosort INFO      
2025-03-31 23:41:38,526 kilosort.run_kilosort INFO     Extracting spikes using templates
2025-03-31 23:41:38,526 kilosort.run_kilosort INFO     ----------------------------------------
2025-03-31 23:41:38,526 kilosort.spikedetect INFO     Re-computing universal templates from data.
2025-03-31 23:41:39,737 kilosort.spikedetect INFO     Number of universal templates: 1532
2025-03-31 23:41:39,841 kilosort.spikedetect INFO     Detecting spikes...
2025-03-31 23:41:39,843 kilosort.spikedetect DEBUG     
2025-03-31 23:41:39,843 kilosort.spikedetect DEBUG    Batch 0
2025-03-31 23:41:39,843 kilosort.spikedetect DEBUG    ********************************************************
2025-03-31 23:41:39,843 kilosort.spikedetect DEBUG    CPU usage:    39.20 %
2025-03-31 23:41:39,844 kilosort.spikedetect DEBUG    Memory:       13.36 %     |    100.79   /   754.60 GB
2025-03-31 23:41:39,844 kilosort.spikedetect DEBUG    ------------------------------------------------------
2025-03-31 23:41:39,844 kilosort.spikedetect DEBUG    GPU usage:    `conda install pynvml` for GPU usage
2025-03-31 23:41:39,844 kilosort.spikedetect DEBUG    GPU memory:   14.33 %     |      5.66   /    39.50 GB
2025-03-31 23:41:39,844 kilosort.spikedetect DEBUG    Allocated:     0.04 %     |      0.01   /    39.50 GB
2025-03-31 23:41:39,844 kilosort.spikedetect DEBUG    Max alloc:     8.36 %     |      3.30   /    39.50 GB
2025-03-31 23:41:39,844 kilosort.spikedetect DEBUG    ********************************************************
2025-03-31 23:43:06,482 kilosort.spikedetect DEBUG     
2025-03-31 23:43:06,483 kilosort.spikedetect DEBUG    Batch 299
2025-03-31 23:43:06,483 kilosort.spikedetect DEBUG    ********************************************************
2025-03-31 23:43:06,483 kilosort.spikedetect DEBUG    CPU usage:    32.20 %
2025-03-31 23:43:06,483 kilosort.spikedetect DEBUG    Memory:       13.58 %     |    102.46   /   754.60 GB
2025-03-31 23:43:06,483 kilosort.spikedetect DEBUG    ------------------------------------------------------
2025-03-31 23:43:06,483 kilosort.spikedetect DEBUG    GPU usage:    `conda install pynvml` for GPU usage
2025-03-31 23:43:06,483 kilosort.spikedetect DEBUG    GPU memory:   14.33 %     |      5.66   /    39.50 GB
2025-03-31 23:43:06,484 kilosort.spikedetect DEBUG    Allocated:     0.29 %     |      0.12   /    39.50 GB
2025-03-31 23:43:06,484 kilosort.spikedetect DEBUG    Max alloc:     8.36 %     |      3.30   /    39.50 GB
2025-03-31 23:43:06,484 kilosort.spikedetect DEBUG    ********************************************************
2025-03-31 23:43:06,484 kilosort.run_kilosort INFO     1760689 spikes extracted in  87.96s; total  177.12s
2025-03-31 23:43:06,484 kilosort.run_kilosort DEBUG    st0 shape: (1760689, 6)
2025-03-31 23:43:06,484 kilosort.run_kilosort DEBUG    tF shape: torch.Size([1760689, 10, 6])
2025-03-31 23:43:06,484 kilosort.run_kilosort INFO      
2025-03-31 23:43:06,485 kilosort.run_kilosort INFO     First clustering
2025-03-31 23:43:06,485 kilosort.run_kilosort INFO     ----------------------------------------
2025-03-31 23:43:06,509 kilosort.clustering_qr DEBUG     
2025-03-31 23:43:06,509 kilosort.clustering_qr DEBUG    Cluster center: 0 of 96
2025-03-31 23:43:06,509 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:43:06,509 kilosort.clustering_qr DEBUG    CPU usage:    37.20 %
2025-03-31 23:43:06,509 kilosort.clustering_qr DEBUG    Memory:       13.58 %     |    102.46   /   754.60 GB
2025-03-31 23:43:06,509 kilosort.clustering_qr DEBUG    ------------------------------------------------------
2025-03-31 23:43:06,509 kilosort.clustering_qr DEBUG    GPU usage:    `conda install pynvml` for GPU usage
2025-03-31 23:43:06,509 kilosort.clustering_qr DEBUG    GPU memory:   14.33 %     |      5.66   /    39.50 GB
2025-03-31 23:43:06,510 kilosort.clustering_qr DEBUG    Allocated:     0.03 %     |      0.01   /    39.50 GB
2025-03-31 23:43:06,510 kilosort.clustering_qr DEBUG    Max alloc:     8.36 %     |      3.30   /    39.50 GB
2025-03-31 23:43:06,510 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:43:06,523 kilosort.clustering_qr DEBUG    Center 0 | nsp: 54264 | ntemp: 16
2025-03-31 23:43:07,450 kilosort.clustering_qr DEBUG    Center 1 | nsp: 25653 | ntemp: 16
2025-03-31 23:43:08,016 kilosort.clustering_qr DEBUG    Center 2 | nsp: 45011 | ntemp: 16
2025-03-31 23:43:08,870 kilosort.clustering_qr DEBUG    Center 3 | nsp: 29721 | ntemp: 16
2025-03-31 23:43:09,582 kilosort.clustering_qr DEBUG    Center 4 | nsp: 34523 | ntemp: 16
2025-03-31 23:43:10,311 kilosort.clustering_qr DEBUG    Center 5 | nsp: 25437 | ntemp: 16
2025-03-31 23:43:10,824 kilosort.clustering_qr DEBUG    Center 6 | nsp: 49287 | ntemp: 16
2025-03-31 23:43:11,762 kilosort.clustering_qr DEBUG    Center 7 | nsp: 21991 | ntemp: 16
2025-03-31 23:43:12,152 kilosort.clustering_qr DEBUG    Center 8 | nsp: 22947 | ntemp: 16
2025-03-31 23:43:12,786 kilosort.clustering_qr DEBUG    Center 9 | nsp: 23258 | ntemp: 16
2025-03-31 23:43:13,605 kilosort.clustering_qr DEBUG     
2025-03-31 23:43:13,605 kilosort.clustering_qr DEBUG    Cluster center: 10 of 96
2025-03-31 23:43:13,605 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:43:13,605 kilosort.clustering_qr DEBUG    CPU usage:    42.60 %
2025-03-31 23:43:13,605 kilosort.clustering_qr DEBUG    Memory:       13.58 %     |    102.47   /   754.60 GB
2025-03-31 23:43:13,605 kilosort.clustering_qr DEBUG    ------------------------------------------------------
2025-03-31 23:43:13,605 kilosort.clustering_qr DEBUG    GPU usage:    `conda install pynvml` for GPU usage
2025-03-31 23:43:13,606 kilosort.clustering_qr DEBUG    GPU memory:   14.33 %     |      5.66   /    39.50 GB
2025-03-31 23:43:13,606 kilosort.clustering_qr DEBUG    Allocated:     0.03 %     |      0.01   /    39.50 GB
2025-03-31 23:43:13,606 kilosort.clustering_qr DEBUG    Max alloc:     8.36 %     |      3.30   /    39.50 GB
2025-03-31 23:43:13,606 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:43:13,615 kilosort.clustering_qr DEBUG    Center 10 | nsp: 25665 | ntemp: 16
2025-03-31 23:43:14,133 kilosort.clustering_qr DEBUG    Center 11 | nsp: 17184 | ntemp: 16
2025-03-31 23:43:14,869 kilosort.clustering_qr DEBUG    Center 12 | nsp: 21088 | ntemp: 16
2025-03-31 23:43:15,355 kilosort.clustering_qr DEBUG    Center 13 | nsp: 34756 | ntemp: 16
2025-03-31 23:43:16,374 kilosort.clustering_qr DEBUG    Center 14 | nsp: 8585 | ntemp: 16
2025-03-31 23:43:17,116 kilosort.clustering_qr DEBUG    Center 15 | nsp: 25490 | ntemp: 16
2025-03-31 23:43:17,747 kilosort.clustering_qr DEBUG    Center 16 | nsp: 10170 | ntemp: 16
2025-03-31 23:43:18,227 kilosort.clustering_qr DEBUG    Center 17 | nsp: 12448 | ntemp: 16
2025-03-31 23:43:18,751 kilosort.clustering_qr DEBUG    Center 18 | nsp: 5175 | ntemp: 16
2025-03-31 23:43:19,928 kilosort.clustering_qr DEBUG    Center 19 | nsp: 42226 | ntemp: 16
2025-03-31 23:43:20,743 kilosort.clustering_qr DEBUG     
2025-03-31 23:43:20,743 kilosort.clustering_qr DEBUG    Cluster center: 20 of 96
2025-03-31 23:43:20,743 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:43:20,744 kilosort.clustering_qr DEBUG    CPU usage:    44.00 %
2025-03-31 23:43:20,744 kilosort.clustering_qr DEBUG    Memory:       13.58 %     |    102.47   /   754.60 GB
2025-03-31 23:43:20,744 kilosort.clustering_qr DEBUG    ------------------------------------------------------
2025-03-31 23:43:20,744 kilosort.clustering_qr DEBUG    GPU usage:    `conda install pynvml` for GPU usage
2025-03-31 23:43:20,744 kilosort.clustering_qr DEBUG    GPU memory:   14.34 %     |      5.66   /    39.50 GB
2025-03-31 23:43:20,744 kilosort.clustering_qr DEBUG    Allocated:     0.03 %     |      0.01   /    39.50 GB
2025-03-31 23:43:20,745 kilosort.clustering_qr DEBUG    Max alloc:     8.36 %     |      3.30   /    39.50 GB
2025-03-31 23:43:20,745 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:43:20,754 kilosort.clustering_qr DEBUG    Center 20 | nsp: 28961 | ntemp: 16
2025-03-31 23:43:21,295 kilosort.clustering_qr DEBUG    Center 21 | nsp: 37563 | ntemp: 16
2025-03-31 23:43:22,031 kilosort.clustering_qr DEBUG    Center 22 | nsp: 31873 | ntemp: 16
2025-03-31 23:43:22,626 kilosort.clustering_qr DEBUG    Center 23 | nsp: 36038 | ntemp: 16
2025-03-31 23:43:23,698 kilosort.clustering_qr DEBUG    Center 24 | nsp: 33041 | ntemp: 16
2025-03-31 23:43:24,303 kilosort.clustering_qr DEBUG    Center 25 | nsp: 39677 | ntemp: 16
2025-03-31 23:43:25,526 kilosort.clustering_qr DEBUG    Center 26 | nsp: 38122 | ntemp: 16
2025-03-31 23:43:26,241 kilosort.clustering_qr DEBUG    Center 27 | nsp: 13380 | ntemp: 16
2025-03-31 23:43:26,780 kilosort.clustering_qr DEBUG    Center 28 | nsp: 435 | ntemp: 16
2025-03-31 23:43:26,786 kilosort.clustering_qr DEBUG    Center 29 | nsp: 1159 | ntemp: 16
2025-03-31 23:43:27,145 kilosort.clustering_qr DEBUG     
2025-03-31 23:43:27,145 kilosort.clustering_qr DEBUG    Cluster center: 30 of 96
2025-03-31 23:43:27,145 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:43:27,146 kilosort.clustering_qr DEBUG    CPU usage:    45.00 %
2025-03-31 23:43:27,146 kilosort.clustering_qr DEBUG    Memory:       13.61 %     |    102.69   /   754.60 GB
2025-03-31 23:43:27,146 kilosort.clustering_qr DEBUG    ------------------------------------------------------
2025-03-31 23:43:27,146 kilosort.clustering_qr DEBUG    GPU usage:    `conda install pynvml` for GPU usage
2025-03-31 23:43:27,146 kilosort.clustering_qr DEBUG    GPU memory:   14.34 %     |      5.66   /    39.50 GB
2025-03-31 23:43:27,146 kilosort.clustering_qr DEBUG    Allocated:     0.03 %     |      0.01   /    39.50 GB
2025-03-31 23:43:27,146 kilosort.clustering_qr DEBUG    Max alloc:     8.36 %     |      3.30   /    39.50 GB
2025-03-31 23:43:27,146 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:43:27,412 kilosort.clustering_qr DEBUG    Center 30 | nsp: 1619 | ntemp: 16
2025-03-31 23:43:27,666 kilosort.clustering_qr DEBUG    Center 31 | nsp: 1850 | ntemp: 16
2025-03-31 23:43:27,926 kilosort.clustering_qr DEBUG    Center 32 | nsp: 11698 | ntemp: 16
2025-03-31 23:43:28,389 kilosort.clustering_qr DEBUG    Center 33 | nsp: 20618 | ntemp: 16
2025-03-31 23:43:28,928 kilosort.clustering_qr DEBUG    Center 34 | nsp: 14983 | ntemp: 16
2025-03-31 23:43:29,858 kilosort.clustering_qr DEBUG    Center 35 | nsp: 35099 | ntemp: 16
2025-03-31 23:43:31,122 kilosort.clustering_qr DEBUG    Center 36 | nsp: 14187 | ntemp: 16
2025-03-31 23:43:32,093 kilosort.clustering_qr DEBUG    Center 37 | nsp: 5692 | ntemp: 16
2025-03-31 23:43:32,509 kilosort.clustering_qr DEBUG    Center 38 | nsp: 2014 | ntemp: 16
2025-03-31 23:43:32,768 kilosort.clustering_qr DEBUG    Center 39 | nsp: 4116 | ntemp: 16
2025-03-31 23:43:33,416 kilosort.clustering_qr DEBUG     
2025-03-31 23:43:33,416 kilosort.clustering_qr DEBUG    Cluster center: 40 of 96
2025-03-31 23:43:33,416 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:43:33,416 kilosort.clustering_qr DEBUG    CPU usage:    45.20 %
2025-03-31 23:43:33,416 kilosort.clustering_qr DEBUG    Memory:       13.62 %     |    102.81   /   754.60 GB
2025-03-31 23:43:33,416 kilosort.clustering_qr DEBUG    ------------------------------------------------------
2025-03-31 23:43:33,416 kilosort.clustering_qr DEBUG    GPU usage:    `conda install pynvml` for GPU usage
2025-03-31 23:43:33,416 kilosort.clustering_qr DEBUG    GPU memory:   14.34 %     |      5.66   /    39.50 GB
2025-03-31 23:43:33,417 kilosort.clustering_qr DEBUG    Allocated:     0.03 %     |      0.01   /    39.50 GB
2025-03-31 23:43:33,417 kilosort.clustering_qr DEBUG    Max alloc:     8.36 %     |      3.30   /    39.50 GB
2025-03-31 23:43:33,417 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:43:33,426 kilosort.clustering_qr DEBUG    Center 40 | nsp: 22794 | ntemp: 16
2025-03-31 23:43:33,947 kilosort.clustering_qr DEBUG    Center 41 | nsp: 32214 | ntemp: 16
2025-03-31 23:43:34,577 kilosort.clustering_qr DEBUG    Center 42 | nsp: 4947 | ntemp: 16
2025-03-31 23:43:34,983 kilosort.clustering_qr DEBUG    Center 43 | nsp: 5400 | ntemp: 16
2025-03-31 23:43:35,568 kilosort.clustering_qr DEBUG    Center 44 | nsp: 7262 | ntemp: 16
2025-03-31 23:43:35,970 kilosort.clustering_qr DEBUG    Center 45 | nsp: 2560 | ntemp: 16
2025-03-31 23:43:36,232 kilosort.clustering_qr DEBUG    Center 46 | nsp: 1926 | ntemp: 16
2025-03-31 23:43:36,494 kilosort.clustering_qr DEBUG    Center 47 | nsp: 2025 | ntemp: 16
2025-03-31 23:43:37,061 kilosort.clustering_qr DEBUG    Center 48 | nsp: 7244 | ntemp: 16
2025-03-31 23:43:37,481 kilosort.clustering_qr DEBUG    Center 49 | nsp: 12604 | ntemp: 16
2025-03-31 23:43:38,027 kilosort.clustering_qr DEBUG     
2025-03-31 23:43:38,027 kilosort.clustering_qr DEBUG    Cluster center: 50 of 96
2025-03-31 23:43:38,027 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:43:38,027 kilosort.clustering_qr DEBUG    CPU usage:    41.40 %
2025-03-31 23:43:38,027 kilosort.clustering_qr DEBUG    Memory:       13.62 %     |    102.81   /   754.60 GB
2025-03-31 23:43:38,027 kilosort.clustering_qr DEBUG    ------------------------------------------------------
2025-03-31 23:43:38,027 kilosort.clustering_qr DEBUG    GPU usage:    `conda install pynvml` for GPU usage
2025-03-31 23:43:38,027 kilosort.clustering_qr DEBUG    GPU memory:   14.34 %     |      5.66   /    39.50 GB
2025-03-31 23:43:38,028 kilosort.clustering_qr DEBUG    Allocated:     0.03 %     |      0.01   /    39.50 GB
2025-03-31 23:43:38,028 kilosort.clustering_qr DEBUG    Max alloc:     8.36 %     |      3.30   /    39.50 GB
2025-03-31 23:43:38,028 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:43:38,057 kilosort.clustering_qr DEBUG    Center 50 | nsp: 12292 | ntemp: 16
2025-03-31 23:43:38,485 kilosort.clustering_qr DEBUG    Center 51 | nsp: 30764 | ntemp: 16
2025-03-31 23:43:39,128 kilosort.clustering_qr DEBUG    Center 52 | nsp: 14267 | ntemp: 16
2025-03-31 23:43:39,660 kilosort.clustering_qr DEBUG    Center 53 | nsp: 10501 | ntemp: 16
2025-03-31 23:43:39,942 kilosort.clustering_qr DEBUG    Center 54 | nsp: 1808 | ntemp: 16
2025-03-31 23:43:40,368 kilosort.clustering_qr DEBUG    Center 55 | nsp: 4558 | ntemp: 16
2025-03-31 23:43:40,910 kilosort.clustering_qr DEBUG    Center 56 | nsp: 4526 | ntemp: 16
2025-03-31 23:43:41,196 kilosort.clustering_qr DEBUG    Center 57 | nsp: 7156 | ntemp: 16
2025-03-31 23:43:41,752 kilosort.clustering_qr DEBUG    Center 58 | nsp: 9142 | ntemp: 16
2025-03-31 23:43:42,119 kilosort.clustering_qr DEBUG    Center 59 | nsp: 20919 | ntemp: 16
2025-03-31 23:43:42,634 kilosort.clustering_qr DEBUG     
2025-03-31 23:43:42,634 kilosort.clustering_qr DEBUG    Cluster center: 60 of 96
2025-03-31 23:43:42,634 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:43:42,634 kilosort.clustering_qr DEBUG    CPU usage:    41.20 %
2025-03-31 23:43:42,634 kilosort.clustering_qr DEBUG    Memory:       13.63 %     |    102.85   /   754.60 GB
2025-03-31 23:43:42,634 kilosort.clustering_qr DEBUG    ------------------------------------------------------
2025-03-31 23:43:42,634 kilosort.clustering_qr DEBUG    GPU usage:    `conda install pynvml` for GPU usage
2025-03-31 23:43:42,634 kilosort.clustering_qr DEBUG    GPU memory:   14.34 %     |      5.66   /    39.50 GB
2025-03-31 23:43:42,635 kilosort.clustering_qr DEBUG    Allocated:     0.03 %     |      0.01   /    39.50 GB
2025-03-31 23:43:42,635 kilosort.clustering_qr DEBUG    Max alloc:     8.36 %     |      3.30   /    39.50 GB
2025-03-31 23:43:42,635 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:43:42,731 kilosort.clustering_qr DEBUG    Center 60 | nsp: 42885 | ntemp: 16
2025-03-31 23:43:43,470 kilosort.clustering_qr DEBUG    Center 61 | nsp: 18136 | ntemp: 16
2025-03-31 23:43:43,848 kilosort.clustering_qr DEBUG    Center 62 | nsp: 5200 | ntemp: 16
2025-03-31 23:43:44,706 kilosort.clustering_qr DEBUG    Center 63 | nsp: 11821 | ntemp: 16
2025-03-31 23:43:45,500 kilosort.clustering_qr DEBUG    Center 64 | nsp: 16218 | ntemp: 16
2025-03-31 23:43:45,873 kilosort.clustering_qr DEBUG    Center 65 | nsp: 32995 | ntemp: 16
2025-03-31 23:43:46,715 kilosort.clustering_qr DEBUG    Center 66 | nsp: 19959 | ntemp: 16
2025-03-31 23:43:47,671 kilosort.clustering_qr DEBUG    Center 67 | nsp: 1333 | ntemp: 16
2025-03-31 23:43:47,945 kilosort.clustering_qr DEBUG    Center 68 | nsp: 8865 | ntemp: 16
2025-03-31 23:43:48,672 kilosort.clustering_qr DEBUG    Center 69 | nsp: 13464 | ntemp: 16
2025-03-31 23:43:49,178 kilosort.clustering_qr DEBUG     
2025-03-31 23:43:49,178 kilosort.clustering_qr DEBUG    Cluster center: 70 of 96
2025-03-31 23:43:49,178 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:43:49,179 kilosort.clustering_qr DEBUG    CPU usage:    41.60 %
2025-03-31 23:43:49,179 kilosort.clustering_qr DEBUG    Memory:       13.63 %     |    102.83   /   754.60 GB
2025-03-31 23:43:49,179 kilosort.clustering_qr DEBUG    ------------------------------------------------------
2025-03-31 23:43:49,179 kilosort.clustering_qr DEBUG    GPU usage:    `conda install pynvml` for GPU usage
2025-03-31 23:43:49,179 kilosort.clustering_qr DEBUG    GPU memory:   14.34 %     |      5.66   /    39.50 GB
2025-03-31 23:43:49,179 kilosort.clustering_qr DEBUG    Allocated:     0.03 %     |      0.01   /    39.50 GB
2025-03-31 23:43:49,180 kilosort.clustering_qr DEBUG    Max alloc:     8.36 %     |      3.30   /    39.50 GB
2025-03-31 23:43:49,180 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:43:49,311 kilosort.clustering_qr DEBUG    Center 70 | nsp: 1941 | ntemp: 16
2025-03-31 23:43:49,728 kilosort.clustering_qr DEBUG    Center 71 | nsp: 11150 | ntemp: 16
2025-03-31 23:43:50,151 kilosort.clustering_qr DEBUG    Center 72 | nsp: 18847 | ntemp: 16
2025-03-31 23:43:50,557 kilosort.clustering_qr DEBUG    Center 73 | nsp: 20019 | ntemp: 16
2025-03-31 23:43:51,612 kilosort.clustering_qr DEBUG    Center 74 | nsp: 8435 | ntemp: 16
2025-03-31 23:43:52,106 kilosort.clustering_qr DEBUG    Center 75 | nsp: 11412 | ntemp: 16
2025-03-31 23:43:52,578 kilosort.clustering_qr DEBUG    Center 76 | nsp: 14979 | ntemp: 16
2025-03-31 23:43:53,056 kilosort.clustering_qr DEBUG    Center 77 | nsp: 14098 | ntemp: 16
2025-03-31 23:43:53,401 kilosort.clustering_qr DEBUG    Center 78 | nsp: 5708 | ntemp: 16
2025-03-31 23:43:53,845 kilosort.clustering_qr DEBUG    Center 79 | nsp: 12676 | ntemp: 16
2025-03-31 23:43:54,206 kilosort.clustering_qr DEBUG     
2025-03-31 23:43:54,206 kilosort.clustering_qr DEBUG    Cluster center: 80 of 96
2025-03-31 23:43:54,206 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:43:54,206 kilosort.clustering_qr DEBUG    CPU usage:    42.60 %
2025-03-31 23:43:54,206 kilosort.clustering_qr DEBUG    Memory:       13.64 %     |    102.95   /   754.60 GB
2025-03-31 23:43:54,206 kilosort.clustering_qr DEBUG    ------------------------------------------------------
2025-03-31 23:43:54,206 kilosort.clustering_qr DEBUG    GPU usage:    `conda install pynvml` for GPU usage
2025-03-31 23:43:54,206 kilosort.clustering_qr DEBUG    GPU memory:   14.34 %     |      5.66   /    39.50 GB
2025-03-31 23:43:54,207 kilosort.clustering_qr DEBUG    Allocated:     0.03 %     |      0.01   /    39.50 GB
2025-03-31 23:43:54,207 kilosort.clustering_qr DEBUG    Max alloc:     8.36 %     |      3.30   /    39.50 GB
2025-03-31 23:43:54,207 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:43:54,215 kilosort.clustering_qr DEBUG    Center 80 | nsp: 19347 | ntemp: 16
2025-03-31 23:43:54,706 kilosort.clustering_qr DEBUG    Center 81 | nsp: 31920 | ntemp: 16
2025-03-31 23:43:55,400 kilosort.clustering_qr DEBUG    Center 82 | nsp: 33684 | ntemp: 16
2025-03-31 23:43:56,056 kilosort.clustering_qr DEBUG    Center 83 | nsp: 63317 | ntemp: 16
2025-03-31 23:43:57,368 kilosort.clustering_qr DEBUG    Center 84 | nsp: 31771 | ntemp: 16
2025-03-31 23:43:58,159 kilosort.clustering_qr DEBUG    Center 85 | nsp: 28000 | ntemp: 16
2025-03-31 23:43:58,731 kilosort.clustering_qr DEBUG    Center 86 | nsp: 20915 | ntemp: 16
2025-03-31 23:43:59,163 kilosort.clustering_qr DEBUG    Center 87 | nsp: 17935 | ntemp: 16
2025-03-31 23:43:59,712 kilosort.clustering_qr DEBUG    Center 88 | nsp: 18943 | ntemp: 16
2025-03-31 23:44:00,505 kilosort.clustering_qr DEBUG    Center 89 | nsp: 18918 | ntemp: 16
2025-03-31 23:44:00,888 kilosort.clustering_qr DEBUG     
2025-03-31 23:44:00,889 kilosort.clustering_qr DEBUG    Cluster center: 90 of 96
2025-03-31 23:44:00,889 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:44:00,889 kilosort.clustering_qr DEBUG    CPU usage:    42.80 %
2025-03-31 23:44:00,889 kilosort.clustering_qr DEBUG    Memory:       13.65 %     |    102.98   /   754.60 GB
2025-03-31 23:44:00,889 kilosort.clustering_qr DEBUG    ------------------------------------------------------
2025-03-31 23:44:00,889 kilosort.clustering_qr DEBUG    GPU usage:    `conda install pynvml` for GPU usage
2025-03-31 23:44:00,889 kilosort.clustering_qr DEBUG    GPU memory:   14.34 %     |      5.66   /    39.50 GB
2025-03-31 23:44:00,889 kilosort.clustering_qr DEBUG    Allocated:     0.03 %     |      0.01   /    39.50 GB
2025-03-31 23:44:00,890 kilosort.clustering_qr DEBUG    Max alloc:     8.36 %     |      3.30   /    39.50 GB
2025-03-31 23:44:00,890 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:44:00,990 kilosort.clustering_qr DEBUG    Center 90 | nsp: 17622 | ntemp: 16
2025-03-31 23:44:01,888 kilosort.clustering_qr DEBUG    Center 91 | nsp: 15383 | ntemp: 16
2025-03-31 23:44:02,320 kilosort.clustering_qr DEBUG    Center 92 | nsp: 17769 | ntemp: 16
2025-03-31 23:44:02,802 kilosort.clustering_qr DEBUG    Center 93 | nsp: 9138 | ntemp: 16
2025-03-31 23:44:03,332 kilosort.clustering_qr DEBUG    Center 94 | nsp: 3343 | ntemp: 16
2025-03-31 23:44:03,777 kilosort.clustering_qr DEBUG    Center 95 | nsp: 630 | ntemp: 12
2025-03-31 23:44:04,531 kilosort.run_kilosort INFO     927 clusters found, in  58.05s; total  235.16s
2025-03-31 23:44:04,532 kilosort.run_kilosort DEBUG    clu shape: (1760689,)
2025-03-31 23:44:04,532 kilosort.run_kilosort DEBUG    Wall shape: torch.Size([927, 374, 6])
2025-03-31 23:44:04,532 kilosort.run_kilosort INFO      
2025-03-31 23:44:04,532 kilosort.run_kilosort INFO     Extracting spikes using cluster waveforms
2025-03-31 23:44:04,533 kilosort.run_kilosort INFO     ----------------------------------------
2025-03-31 23:44:04,556 kilosort.template_matching DEBUG     
2025-03-31 23:44:04,556 kilosort.template_matching DEBUG    Batch 0
2025-03-31 23:44:04,556 kilosort.template_matching DEBUG    ********************************************************
2025-03-31 23:44:04,556 kilosort.template_matching DEBUG    CPU usage:    41.80 %
2025-03-31 23:44:04,557 kilosort.template_matching DEBUG    Memory:       13.67 %     |    103.18   /   754.60 GB
2025-03-31 23:44:04,557 kilosort.template_matching DEBUG    ------------------------------------------------------
2025-03-31 23:44:04,557 kilosort.template_matching DEBUG    GPU usage:    `conda install pynvml` for GPU usage
2025-03-31 23:44:04,557 kilosort.template_matching DEBUG    GPU memory:   14.34 %     |      5.66   /    39.50 GB
2025-03-31 23:44:04,557 kilosort.template_matching DEBUG    Allocated:     0.69 %     |      0.27   /    39.50 GB
2025-03-31 23:44:04,557 kilosort.template_matching DEBUG    Max alloc:     8.36 %     |      3.30   /    39.50 GB
2025-03-31 23:44:04,557 kilosort.template_matching DEBUG    ********************************************************
2025-03-31 23:44:28,668 kilosort.template_matching DEBUG     
2025-03-31 23:44:28,669 kilosort.template_matching DEBUG    Batch 100
2025-03-31 23:44:28,669 kilosort.template_matching DEBUG    ********************************************************
2025-03-31 23:44:28,669 kilosort.template_matching DEBUG    CPU usage:    31.60 %
2025-03-31 23:44:28,669 kilosort.template_matching DEBUG    Memory:       14.36 %     |    108.38   /   754.60 GB
2025-03-31 23:44:28,669 kilosort.template_matching DEBUG    ------------------------------------------------------
2025-03-31 23:44:28,669 kilosort.template_matching DEBUG    GPU usage:    `conda install pynvml` for GPU usage
2025-03-31 23:44:28,669 kilosort.template_matching DEBUG    GPU memory:   14.34 %     |      5.66   /    39.50 GB
2025-03-31 23:44:28,670 kilosort.template_matching DEBUG    Allocated:     1.13 %     |      0.45   /    39.50 GB
2025-03-31 23:44:28,670 kilosort.template_matching DEBUG    Max alloc:     8.36 %     |      3.30   /    39.50 GB
2025-03-31 23:44:28,670 kilosort.template_matching DEBUG    ********************************************************
2025-03-31 23:44:52,530 kilosort.template_matching DEBUG     
2025-03-31 23:44:52,531 kilosort.template_matching DEBUG    Batch 200
2025-03-31 23:44:52,531 kilosort.template_matching DEBUG    ********************************************************
2025-03-31 23:44:52,531 kilosort.template_matching DEBUG    CPU usage:    32.40 %
2025-03-31 23:44:52,531 kilosort.template_matching DEBUG    Memory:       14.43 %     |    108.92   /   754.60 GB
2025-03-31 23:44:52,531 kilosort.template_matching DEBUG    ------------------------------------------------------
2025-03-31 23:44:52,531 kilosort.template_matching DEBUG    GPU usage:    `conda install pynvml` for GPU usage
2025-03-31 23:44:52,531 kilosort.template_matching DEBUG    GPU memory:   14.34 %     |      5.66   /    39.50 GB
2025-03-31 23:44:52,532 kilosort.template_matching DEBUG    Allocated:     1.13 %     |      0.44   /    39.50 GB
2025-03-31 23:44:52,532 kilosort.template_matching DEBUG    Max alloc:     8.36 %     |      3.30   /    39.50 GB
2025-03-31 23:44:52,532 kilosort.template_matching DEBUG    ********************************************************
2025-03-31 23:45:16,538 kilosort.template_matching DEBUG     
2025-03-31 23:45:16,538 kilosort.template_matching DEBUG    Batch 299
2025-03-31 23:45:16,538 kilosort.template_matching DEBUG    ********************************************************
2025-03-31 23:45:16,538 kilosort.template_matching DEBUG    CPU usage:    32.00 %
2025-03-31 23:45:16,539 kilosort.template_matching DEBUG    Memory:       14.44 %     |    108.93   /   754.60 GB
2025-03-31 23:45:16,539 kilosort.template_matching DEBUG    ------------------------------------------------------
2025-03-31 23:45:16,539 kilosort.template_matching DEBUG    GPU usage:    `conda install pynvml` for GPU usage
2025-03-31 23:45:16,539 kilosort.template_matching DEBUG    GPU memory:   14.34 %     |      5.66   /    39.50 GB
2025-03-31 23:45:16,539 kilosort.template_matching DEBUG    Allocated:     1.13 %     |      0.45   /    39.50 GB
2025-03-31 23:45:16,539 kilosort.template_matching DEBUG    Max alloc:     8.36 %     |      3.30   /    39.50 GB
2025-03-31 23:45:16,539 kilosort.template_matching DEBUG    ********************************************************
2025-03-31 23:45:16,823 kilosort.run_kilosort INFO     3629399 spikes extracted in  72.29s; total  307.46s
2025-03-31 23:45:16,824 kilosort.run_kilosort DEBUG    st shape: (3629399, 3)
2025-03-31 23:45:16,824 kilosort.run_kilosort DEBUG    tF shape: torch.Size([3629399, 10, 6])
2025-03-31 23:45:16,824 kilosort.run_kilosort DEBUG    iCC shape: torch.Size([10, 374])
2025-03-31 23:45:16,824 kilosort.run_kilosort DEBUG    iU shape: torch.Size([744])
2025-03-31 23:45:16,824 kilosort.run_kilosort INFO      
2025-03-31 23:45:16,825 kilosort.run_kilosort INFO     Resource usage after spike detection
2025-03-31 23:45:16,826 kilosort.run_kilosort INFO     ********************************************************
2025-03-31 23:45:16,827 kilosort.run_kilosort INFO     CPU usage:    35.10 %
2025-03-31 23:45:16,828 kilosort.run_kilosort INFO     Memory:       14.36 %     |    108.39   /   754.60 GB
2025-03-31 23:45:16,829 kilosort.run_kilosort INFO     ------------------------------------------------------
2025-03-31 23:45:16,830 kilosort.run_kilosort INFO     GPU usage:    `conda install pynvml` for GPU usage
2025-03-31 23:45:16,831 kilosort.run_kilosort INFO     GPU memory:   14.34 %     |      5.66   /    39.50 GB
2025-03-31 23:45:16,832 kilosort.run_kilosort INFO     Allocated:     0.05 %     |      0.02   /    39.50 GB
2025-03-31 23:45:16,833 kilosort.run_kilosort INFO     Max alloc:     8.36 %     |      3.30   /    39.50 GB
2025-03-31 23:45:16,834 kilosort.run_kilosort INFO     ********************************************************
2025-03-31 23:45:16,835 kilosort.run_kilosort DEBUG    

|===========================================================================|
|                  PyTorch CUDA memory summary, device ID 0                 |
|---------------------------------------------------------------------------|
|            CUDA OOMs: 0            |        cudaMalloc retries: 0         |
|===========================================================================|
|        Metric         | Cur Usage  | Peak Usage | Tot Alloc  | Tot Freed  |
|---------------------------------------------------------------------------|
| Allocated memory      |  20581 KiB |   3381 MiB | 107599 GiB | 107599 GiB |
|---------------------------------------------------------------------------|
| Active memory         |  20581 KiB |   3381 MiB | 107599 GiB | 107599 GiB |
|---------------------------------------------------------------------------|
| Requested memory      |  20576 KiB |   3380 MiB | 107551 GiB | 107551 GiB |
|---------------------------------------------------------------------------|
| GPU reserved memory   |   5232 MiB |   5232 MiB |   5232 MiB |      0 B   |
|---------------------------------------------------------------------------|
| Non-releasable memory |  32667 KiB |   2297 MiB |  71289 GiB |  71289 GiB |
|---------------------------------------------------------------------------|
| Allocations           |      24    |      56    |    5764 K  |    5764 K  |
|---------------------------------------------------------------------------|
| Active allocs         |      24    |      56    |    5764 K  |    5764 K  |
|---------------------------------------------------------------------------|
| GPU reserved segments |      19    |      19    |      19    |       0    |
|---------------------------------------------------------------------------|
| Non-releasable allocs |      12    |      26    |    2385 K  |    2385 K  |
|---------------------------------------------------------------------------|
| Oversize allocations  |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Oversize GPU segments |       0    |       0    |       0    |       0    |
|===========================================================================|


2025-03-31 23:45:16,836 kilosort.run_kilosort INFO      
2025-03-31 23:45:16,836 kilosort.run_kilosort INFO     Final clustering
2025-03-31 23:45:16,837 kilosort.run_kilosort INFO     ----------------------------------------
2025-03-31 23:45:16,858 kilosort.clustering_qr DEBUG     
2025-03-31 23:45:16,858 kilosort.clustering_qr DEBUG    Cluster center: 0 of 96
2025-03-31 23:45:16,858 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:45:16,858 kilosort.clustering_qr DEBUG    CPU usage:    26.30 %
2025-03-31 23:45:16,859 kilosort.clustering_qr DEBUG    Memory:       14.35 %     |    108.31   /   754.60 GB
2025-03-31 23:45:16,859 kilosort.clustering_qr DEBUG    ------------------------------------------------------
2025-03-31 23:45:16,859 kilosort.clustering_qr DEBUG    GPU usage:    `conda install pynvml` for GPU usage
2025-03-31 23:45:16,859 kilosort.clustering_qr DEBUG    GPU memory:   14.34 %     |      5.66   /    39.50 GB
2025-03-31 23:45:16,859 kilosort.clustering_qr DEBUG    Allocated:     0.03 %     |      0.01   /    39.50 GB
2025-03-31 23:45:16,859 kilosort.clustering_qr DEBUG    Max alloc:     8.36 %     |      3.30   /    39.50 GB
2025-03-31 23:45:16,859 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:45:16,882 kilosort.clustering_qr DEBUG    Center 0 | nsp: 112820 | ntemp: 10
2025-03-31 23:45:18,925 kilosort.clustering_qr DEBUG    Center 1 | nsp: 60118 | ntemp: 7
2025-03-31 23:45:19,767 kilosort.clustering_qr DEBUG    Center 2 | nsp: 80696 | ntemp: 7
2025-03-31 23:45:20,894 kilosort.clustering_qr DEBUG    Center 3 | nsp: 54649 | ntemp: 10
2025-03-31 23:45:21,699 kilosort.clustering_qr DEBUG    Center 4 | nsp: 120096 | ntemp: 12
2025-03-31 23:45:23,792 kilosort.clustering_qr DEBUG    Center 5 | nsp: 55062 | ntemp: 7
2025-03-31 23:45:24,561 kilosort.clustering_qr DEBUG    Center 6 | nsp: 94068 | ntemp: 11
2025-03-31 23:45:26,180 kilosort.clustering_qr DEBUG    Center 7 | nsp: 54501 | ntemp: 5
2025-03-31 23:45:26,806 kilosort.clustering_qr DEBUG    Center 8 | nsp: 52159 | ntemp: 7
2025-03-31 23:45:27,534 kilosort.clustering_qr DEBUG    Center 9 | nsp: 49680 | ntemp: 7
2025-03-31 23:45:28,175 kilosort.clustering_qr DEBUG     
2025-03-31 23:45:28,175 kilosort.clustering_qr DEBUG    Cluster center: 10 of 96
2025-03-31 23:45:28,175 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:45:28,175 kilosort.clustering_qr DEBUG    CPU usage:    42.80 %
2025-03-31 23:45:28,176 kilosort.clustering_qr DEBUG    Memory:       14.37 %     |    108.43   /   754.60 GB
2025-03-31 23:45:28,176 kilosort.clustering_qr DEBUG    ------------------------------------------------------
2025-03-31 23:45:28,176 kilosort.clustering_qr DEBUG    GPU usage:    `conda install pynvml` for GPU usage
2025-03-31 23:45:28,176 kilosort.clustering_qr DEBUG    GPU memory:   14.34 %     |      5.66   /    39.50 GB
2025-03-31 23:45:28,176 kilosort.clustering_qr DEBUG    Allocated:     0.03 %     |      0.01   /    39.50 GB
2025-03-31 23:45:28,176 kilosort.clustering_qr DEBUG    Max alloc:     8.36 %     |      3.30   /    39.50 GB
2025-03-31 23:45:28,176 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:45:28,335 kilosort.clustering_qr DEBUG    Center 10 | nsp: 38506 | ntemp: 4
2025-03-31 23:45:28,935 kilosort.clustering_qr DEBUG    Center 11 | nsp: 40565 | ntemp: 5
2025-03-31 23:45:29,402 kilosort.clustering_qr DEBUG    Center 12 | nsp: 43194 | ntemp: 5
2025-03-31 23:45:29,932 kilosort.clustering_qr DEBUG    Center 13 | nsp: 50415 | ntemp: 5
2025-03-31 23:45:30,785 kilosort.clustering_qr DEBUG    Center 14 | nsp: 17218 | ntemp: 3
2025-03-31 23:45:31,244 kilosort.clustering_qr DEBUG    Center 15 | nsp: 40530 | ntemp: 8
2025-03-31 23:45:31,839 kilosort.clustering_qr DEBUG    Center 16 | nsp: 17279 | ntemp: 6
2025-03-31 23:45:32,302 kilosort.clustering_qr DEBUG    Center 17 | nsp: 14285 | ntemp: 4
2025-03-31 23:45:32,607 kilosort.clustering_qr DEBUG    Center 18 | nsp: 37103 | ntemp: 4
2025-03-31 23:45:33,342 kilosort.clustering_qr DEBUG    Center 19 | nsp: 56023 | ntemp: 6
2025-03-31 23:45:34,015 kilosort.clustering_qr DEBUG     
2025-03-31 23:45:34,015 kilosort.clustering_qr DEBUG    Cluster center: 20 of 96
2025-03-31 23:45:34,015 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:45:34,016 kilosort.clustering_qr DEBUG    CPU usage:    37.70 %
2025-03-31 23:45:34,016 kilosort.clustering_qr DEBUG    Memory:       14.37 %     |    108.42   /   754.60 GB
2025-03-31 23:45:34,016 kilosort.clustering_qr DEBUG    ------------------------------------------------------
2025-03-31 23:45:34,016 kilosort.clustering_qr DEBUG    GPU usage:    `conda install pynvml` for GPU usage
2025-03-31 23:45:34,016 kilosort.clustering_qr DEBUG    GPU memory:   14.34 %     |      5.66   /    39.50 GB
2025-03-31 23:45:34,016 kilosort.clustering_qr DEBUG    Allocated:     0.03 %     |      0.01   /    39.50 GB
2025-03-31 23:45:34,017 kilosort.clustering_qr DEBUG    Max alloc:     8.36 %     |      3.30   /    39.50 GB
2025-03-31 23:45:34,017 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:45:34,034 kilosort.clustering_qr DEBUG    Center 20 | nsp: 62380 | ntemp: 11
2025-03-31 23:45:34,983 kilosort.clustering_qr DEBUG    Center 21 | nsp: 66342 | ntemp: 14
2025-03-31 23:45:36,026 kilosort.clustering_qr DEBUG    Center 22 | nsp: 63661 | ntemp: 12
2025-03-31 23:45:37,047 kilosort.clustering_qr DEBUG    Center 23 | nsp: 78514 | ntemp: 9
2025-03-31 23:45:38,640 kilosort.clustering_qr DEBUG    Center 24 | nsp: 54007 | ntemp: 9
2025-03-31 23:45:39,393 kilosort.clustering_qr DEBUG    Center 25 | nsp: 88080 | ntemp: 12
2025-03-31 23:45:40,882 kilosort.clustering_qr DEBUG    Center 26 | nsp: 80067 | ntemp: 11
2025-03-31 23:45:42,253 kilosort.clustering_qr DEBUG    Center 27 | nsp: 31328 | ntemp: 4
2025-03-31 23:45:42,827 kilosort.clustering_qr DEBUG    Center 28 | nsp: 1860 | ntemp: 1
2025-03-31 23:45:43,082 kilosort.clustering_qr DEBUG    Center 29 | nsp: 5318 | ntemp: 2
2025-03-31 23:45:43,342 kilosort.clustering_qr DEBUG     
2025-03-31 23:45:43,342 kilosort.clustering_qr DEBUG    Cluster center: 30 of 96
2025-03-31 23:45:43,342 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:45:43,342 kilosort.clustering_qr DEBUG    CPU usage:    43.70 %
2025-03-31 23:45:43,342 kilosort.clustering_qr DEBUG    Memory:       14.97 %     |    112.98   /   754.60 GB
2025-03-31 23:45:43,342 kilosort.clustering_qr DEBUG    ------------------------------------------------------
2025-03-31 23:45:43,342 kilosort.clustering_qr DEBUG    GPU usage:    `conda install pynvml` for GPU usage
2025-03-31 23:45:43,342 kilosort.clustering_qr DEBUG    GPU memory:   14.34 %     |      5.66   /    39.50 GB
2025-03-31 23:45:43,343 kilosort.clustering_qr DEBUG    Allocated:     0.03 %     |      0.01   /    39.50 GB
2025-03-31 23:45:43,343 kilosort.clustering_qr DEBUG    Max alloc:     8.36 %     |      3.30   /    39.50 GB
2025-03-31 23:45:43,343 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:45:43,348 kilosort.clustering_qr DEBUG    Center 30 | nsp: 4371 | ntemp: 2
2025-03-31 23:45:43,607 kilosort.clustering_qr DEBUG    Center 31 | nsp: 4750 | ntemp: 1
2025-03-31 23:45:43,871 kilosort.clustering_qr DEBUG    Center 32 | nsp: 14329 | ntemp: 4
2025-03-31 23:45:44,176 kilosort.clustering_qr DEBUG    Center 33 | nsp: 33083 | ntemp: 11
2025-03-31 23:45:44,765 kilosort.clustering_qr DEBUG    Center 34 | nsp: 25384 | ntemp: 11
2025-03-31 23:45:45,357 kilosort.clustering_qr DEBUG    Center 35 | nsp: 51329 | ntemp: 11
2025-03-31 23:45:46,303 kilosort.clustering_qr DEBUG    Center 36 | nsp: 38452 | ntemp: 12
2025-03-31 23:45:46,813 kilosort.clustering_qr DEBUG    Center 37 | nsp: 9404 | ntemp: 4
2025-03-31 23:45:47,269 kilosort.clustering_qr DEBUG    Center 38 | nsp: 5893 | ntemp: 2
2025-03-31 23:45:47,656 kilosort.clustering_qr DEBUG    Center 39 | nsp: 4309 | ntemp: 2
2025-03-31 23:45:47,915 kilosort.clustering_qr DEBUG     
2025-03-31 23:45:47,915 kilosort.clustering_qr DEBUG    Cluster center: 40 of 96
2025-03-31 23:45:47,915 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:45:47,915 kilosort.clustering_qr DEBUG    CPU usage:    39.00 %
2025-03-31 23:45:47,916 kilosort.clustering_qr DEBUG    Memory:       14.97 %     |    112.98   /   754.60 GB
2025-03-31 23:45:47,916 kilosort.clustering_qr DEBUG    ------------------------------------------------------
2025-03-31 23:45:47,916 kilosort.clustering_qr DEBUG    GPU usage:    `conda install pynvml` for GPU usage
2025-03-31 23:45:47,916 kilosort.clustering_qr DEBUG    GPU memory:   14.34 %     |      5.66   /    39.50 GB
2025-03-31 23:45:47,916 kilosort.clustering_qr DEBUG    Allocated:     0.03 %     |      0.01   /    39.50 GB
2025-03-31 23:45:47,916 kilosort.clustering_qr DEBUG    Max alloc:     8.36 %     |      3.30   /    39.50 GB
2025-03-31 23:45:47,916 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:45:47,932 kilosort.clustering_qr DEBUG    Center 40 | nsp: 50071 | ntemp: 16
2025-03-31 23:45:49,017 kilosort.clustering_qr DEBUG    Center 41 | nsp: 48808 | ntemp: 7
2025-03-31 23:45:49,640 kilosort.clustering_qr DEBUG    Center 42 | nsp: 10705 | ntemp: 3
2025-03-31 23:45:50,113 kilosort.clustering_qr DEBUG    Center 43 | nsp: 12049 | ntemp: 3
2025-03-31 23:45:50,512 kilosort.clustering_qr DEBUG    Center 44 | nsp: 13038 | ntemp: 5
2025-03-31 23:45:50,918 kilosort.clustering_qr DEBUG    Center 45 | nsp: 5247 | ntemp: 2
2025-03-31 23:45:51,185 kilosort.clustering_qr DEBUG    Center 46 | nsp: 4924 | ntemp: 2
2025-03-31 23:45:51,452 kilosort.clustering_qr DEBUG    Center 47 | nsp: 8849 | ntemp: 3
2025-03-31 23:45:51,867 kilosort.clustering_qr DEBUG    Center 48 | nsp: 10219 | ntemp: 2
2025-03-31 23:45:52,152 kilosort.clustering_qr DEBUG    Center 49 | nsp: 22236 | ntemp: 3
2025-03-31 23:45:52,492 kilosort.clustering_qr DEBUG     
2025-03-31 23:45:52,492 kilosort.clustering_qr DEBUG    Cluster center: 50 of 96
2025-03-31 23:45:52,492 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:45:52,492 kilosort.clustering_qr DEBUG    CPU usage:    40.50 %
2025-03-31 23:45:52,492 kilosort.clustering_qr DEBUG    Memory:       14.96 %     |    112.92   /   754.60 GB
2025-03-31 23:45:52,492 kilosort.clustering_qr DEBUG    ------------------------------------------------------
2025-03-31 23:45:52,492 kilosort.clustering_qr DEBUG    GPU usage:    `conda install pynvml` for GPU usage
2025-03-31 23:45:52,493 kilosort.clustering_qr DEBUG    GPU memory:   14.34 %     |      5.66   /    39.50 GB
2025-03-31 23:45:52,493 kilosort.clustering_qr DEBUG    Allocated:     0.03 %     |      0.01   /    39.50 GB
2025-03-31 23:45:52,493 kilosort.clustering_qr DEBUG    Max alloc:     8.36 %     |      3.30   /    39.50 GB
2025-03-31 23:45:52,493 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:45:52,501 kilosort.clustering_qr DEBUG    Center 50 | nsp: 21066 | ntemp: 6
2025-03-31 23:45:52,974 kilosort.clustering_qr DEBUG    Center 51 | nsp: 58827 | ntemp: 13
2025-03-31 23:45:53,759 kilosort.clustering_qr DEBUG    Center 52 | nsp: 26215 | ntemp: 5
2025-03-31 23:45:54,550 kilosort.clustering_qr DEBUG    Center 53 | nsp: 11194 | ntemp: 2
2025-03-31 23:45:54,953 kilosort.clustering_qr DEBUG    Center 54 | nsp: 5852 | ntemp: 4
2025-03-31 23:45:55,334 kilosort.clustering_qr DEBUG    Center 55 | nsp: 9513 | ntemp: 5
2025-03-31 23:45:55,731 kilosort.clustering_qr DEBUG    Center 56 | nsp: 13740 | ntemp: 9
2025-03-31 23:45:56,155 kilosort.clustering_qr DEBUG    Center 57 | nsp: 3057 | ntemp: 2
2025-03-31 23:45:56,422 kilosort.clustering_qr DEBUG    Center 58 | nsp: 24419 | ntemp: 9
2025-03-31 23:45:57,014 kilosort.clustering_qr DEBUG    Center 59 | nsp: 35990 | ntemp: 14
2025-03-31 23:45:57,589 kilosort.clustering_qr DEBUG     
2025-03-31 23:45:57,589 kilosort.clustering_qr DEBUG    Cluster center: 60 of 96
2025-03-31 23:45:57,589 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:45:57,589 kilosort.clustering_qr DEBUG    CPU usage:    41.80 %
2025-03-31 23:45:57,589 kilosort.clustering_qr DEBUG    Memory:       14.97 %     |    112.96   /   754.60 GB
2025-03-31 23:45:57,589 kilosort.clustering_qr DEBUG    ------------------------------------------------------
2025-03-31 23:45:57,589 kilosort.clustering_qr DEBUG    GPU usage:    `conda install pynvml` for GPU usage
2025-03-31 23:45:57,589 kilosort.clustering_qr DEBUG    GPU memory:   14.34 %     |      5.66   /    39.50 GB
2025-03-31 23:45:57,590 kilosort.clustering_qr DEBUG    Allocated:     0.03 %     |      0.01   /    39.50 GB
2025-03-31 23:45:57,590 kilosort.clustering_qr DEBUG    Max alloc:     8.36 %     |      3.30   /    39.50 GB
2025-03-31 23:45:57,590 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:45:57,609 kilosort.clustering_qr DEBUG    Center 60 | nsp: 65495 | ntemp: 17
2025-03-31 23:45:58,660 kilosort.clustering_qr DEBUG    Center 61 | nsp: 23212 | ntemp: 11
2025-03-31 23:45:59,386 kilosort.clustering_qr DEBUG    Center 62 | nsp: 32178 | ntemp: 9
2025-03-31 23:46:00,031 kilosort.clustering_qr DEBUG    Center 63 | nsp: 17904 | ntemp: 5
2025-03-31 23:46:00,468 kilosort.clustering_qr DEBUG    Center 64 | nsp: 28163 | ntemp: 6
2025-03-31 23:46:00,974 kilosort.clustering_qr DEBUG    Center 65 | nsp: 64782 | ntemp: 6
2025-03-31 23:46:01,864 kilosort.clustering_qr DEBUG    Center 66 | nsp: 24685 | ntemp: 10
2025-03-31 23:46:02,271 kilosort.clustering_qr DEBUG    Center 67 | nsp: 2742 | ntemp: 3
2025-03-31 23:46:02,717 kilosort.clustering_qr DEBUG    Center 68 | nsp: 21368 | ntemp: 5
2025-03-31 23:46:03,345 kilosort.clustering_qr DEBUG    Center 69 | nsp: 28395 | ntemp: 7
2025-03-31 23:46:04,168 kilosort.clustering_qr DEBUG     
2025-03-31 23:46:04,168 kilosort.clustering_qr DEBUG    Cluster center: 70 of 96
2025-03-31 23:46:04,168 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:46:04,169 kilosort.clustering_qr DEBUG    CPU usage:    42.80 %
2025-03-31 23:46:04,169 kilosort.clustering_qr DEBUG    Memory:       14.97 %     |    112.95   /   754.60 GB
2025-03-31 23:46:04,169 kilosort.clustering_qr DEBUG    ------------------------------------------------------
2025-03-31 23:46:04,169 kilosort.clustering_qr DEBUG    GPU usage:    `conda install pynvml` for GPU usage
2025-03-31 23:46:04,169 kilosort.clustering_qr DEBUG    GPU memory:   14.34 %     |      5.66   /    39.50 GB
2025-03-31 23:46:04,169 kilosort.clustering_qr DEBUG    Allocated:     0.03 %     |      0.01   /    39.50 GB
2025-03-31 23:46:04,170 kilosort.clustering_qr DEBUG    Max alloc:     8.36 %     |      3.30   /    39.50 GB
2025-03-31 23:46:04,170 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:46:04,324 kilosort.clustering_qr DEBUG    Center 70 | nsp: 6531 | ntemp: 5
2025-03-31 23:46:04,759 kilosort.clustering_qr DEBUG    Center 71 | nsp: 14623 | ntemp: 5
2025-03-31 23:46:05,161 kilosort.clustering_qr DEBUG    Center 72 | nsp: 29691 | ntemp: 14
2025-03-31 23:46:05,802 kilosort.clustering_qr DEBUG    Center 73 | nsp: 30661 | ntemp: 10
2025-03-31 23:46:06,376 kilosort.clustering_qr DEBUG    Center 74 | nsp: 18498 | ntemp: 9
2025-03-31 23:46:06,832 kilosort.clustering_qr DEBUG    Center 75 | nsp: 21813 | ntemp: 15
2025-03-31 23:46:07,354 kilosort.clustering_qr DEBUG    Center 76 | nsp: 10427 | ntemp: 5
2025-03-31 23:46:07,820 kilosort.clustering_qr DEBUG    Center 77 | nsp: 41799 | ntemp: 10
2025-03-31 23:46:08,513 kilosort.clustering_qr DEBUG    Center 78 | nsp: 13493 | ntemp: 4
2025-03-31 23:46:08,858 kilosort.clustering_qr DEBUG    Center 79 | nsp: 24070 | ntemp: 7
2025-03-31 23:46:09,511 kilosort.clustering_qr DEBUG     
2025-03-31 23:46:09,511 kilosort.clustering_qr DEBUG    Cluster center: 80 of 96
2025-03-31 23:46:09,511 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:46:09,512 kilosort.clustering_qr DEBUG    CPU usage:    41.40 %
2025-03-31 23:46:09,512 kilosort.clustering_qr DEBUG    Memory:       14.97 %     |    112.94   /   754.60 GB
2025-03-31 23:46:09,512 kilosort.clustering_qr DEBUG    ------------------------------------------------------
2025-03-31 23:46:09,512 kilosort.clustering_qr DEBUG    GPU usage:    `conda install pynvml` for GPU usage
2025-03-31 23:46:09,512 kilosort.clustering_qr DEBUG    GPU memory:   14.34 %     |      5.66   /    39.50 GB
2025-03-31 23:46:09,512 kilosort.clustering_qr DEBUG    Allocated:     0.03 %     |      0.01   /    39.50 GB
2025-03-31 23:46:09,512 kilosort.clustering_qr DEBUG    Max alloc:     8.36 %     |      3.30   /    39.50 GB
2025-03-31 23:46:09,512 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:46:09,527 kilosort.clustering_qr DEBUG    Center 80 | nsp: 48319 | ntemp: 9
2025-03-31 23:46:10,176 kilosort.clustering_qr DEBUG    Center 81 | nsp: 62720 | ntemp: 9
2025-03-31 23:46:11,123 kilosort.clustering_qr DEBUG    Center 82 | nsp: 83394 | ntemp: 11
2025-03-31 23:46:12,395 kilosort.clustering_qr DEBUG    Center 83 | nsp: 135685 | ntemp: 16
2025-03-31 23:46:15,215 kilosort.clustering_qr DEBUG    Center 84 | nsp: 131799 | ntemp: 18
2025-03-31 23:46:18,184 kilosort.clustering_qr DEBUG    Center 85 | nsp: 54202 | ntemp: 11
2025-03-31 23:46:19,059 kilosort.clustering_qr DEBUG    Center 86 | nsp: 70856 | ntemp: 18
2025-03-31 23:46:20,391 kilosort.clustering_qr DEBUG    Center 87 | nsp: 52799 | ntemp: 16
2025-03-31 23:46:21,240 kilosort.clustering_qr DEBUG    Center 88 | nsp: 50119 | ntemp: 13
2025-03-31 23:46:22,207 kilosort.clustering_qr DEBUG    Center 89 | nsp: 51962 | ntemp: 17
2025-03-31 23:46:23,005 kilosort.clustering_qr DEBUG     
2025-03-31 23:46:23,005 kilosort.clustering_qr DEBUG    Cluster center: 90 of 96
2025-03-31 23:46:23,005 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:46:23,005 kilosort.clustering_qr DEBUG    CPU usage:    43.50 %
2025-03-31 23:46:23,005 kilosort.clustering_qr DEBUG    Memory:       14.97 %     |    113.00   /   754.60 GB
2025-03-31 23:46:23,005 kilosort.clustering_qr DEBUG    ------------------------------------------------------
2025-03-31 23:46:23,005 kilosort.clustering_qr DEBUG    GPU usage:    `conda install pynvml` for GPU usage
2025-03-31 23:46:23,005 kilosort.clustering_qr DEBUG    GPU memory:   14.34 %     |      5.66   /    39.50 GB
2025-03-31 23:46:23,006 kilosort.clustering_qr DEBUG    Allocated:     0.03 %     |      0.01   /    39.50 GB
2025-03-31 23:46:23,006 kilosort.clustering_qr DEBUG    Max alloc:     8.36 %     |      3.30   /    39.50 GB
2025-03-31 23:46:23,006 kilosort.clustering_qr DEBUG    ********************************************************
2025-03-31 23:46:23,132 kilosort.clustering_qr DEBUG    Center 90 | nsp: 35895 | ntemp: 7
2025-03-31 23:46:24,151 kilosort.clustering_qr DEBUG    Center 91 | nsp: 51886 | ntemp: 16
2025-03-31 23:46:24,998 kilosort.clustering_qr DEBUG    Center 92 | nsp: 35856 | ntemp: 18
2025-03-31 23:46:25,595 kilosort.clustering_qr DEBUG    Center 93 | nsp: 20074 | ntemp: 6
2025-03-31 23:46:26,086 kilosort.clustering_qr DEBUG    Center 94 | nsp: 12984 | ntemp: 2
2025-03-31 23:46:26,499 kilosort.clustering_qr DEBUG    Center 95 | nsp: 2472 | ntemp: 1
2025-03-31 23:46:26,754 kilosort.run_kilosort INFO     765 clusters found, in  69.92s; total  377.39s
2025-03-31 23:46:26,754 kilosort.run_kilosort DEBUG    clu shape: (3629399,)
2025-03-31 23:46:26,754 kilosort.run_kilosort DEBUG    Wall shape: torch.Size([765, 374, 6])
2025-03-31 23:46:26,754 kilosort.run_kilosort INFO      
2025-03-31 23:46:26,755 kilosort.run_kilosort INFO     Merging clusters
2025-03-31 23:46:26,755 kilosort.run_kilosort INFO     ----------------------------------------
2025-03-31 23:46:34,474 kilosort.run_kilosort INFO     733 units found, in  7.72s; total  385.11s
2025-03-31 23:46:34,475 kilosort.run_kilosort DEBUG    clu shape: (3629399,)
2025-03-31 23:46:34,475 kilosort.run_kilosort DEBUG    Wall shape: torch.Size([733, 374, 6])
2025-03-31 23:46:34,955 kilosort.run_kilosort INFO      
2025-03-31 23:46:34,956 kilosort.run_kilosort INFO     Resource usage after clustering
2025-03-31 23:46:34,956 kilosort.run_kilosort INFO     ********************************************************
2025-03-31 23:46:34,958 kilosort.run_kilosort INFO     CPU usage:    34.60 %
2025-03-31 23:46:34,959 kilosort.run_kilosort INFO     Memory:       14.96 %     |    112.89   /   754.60 GB
2025-03-31 23:46:34,959 kilosort.run_kilosort INFO     ------------------------------------------------------
2025-03-31 23:46:34,959 kilosort.run_kilosort INFO     GPU usage:    `conda install pynvml` for GPU usage
2025-03-31 23:46:34,960 kilosort.run_kilosort INFO     GPU memory:   14.34 %     |      5.66   /    39.50 GB
2025-03-31 23:46:34,961 kilosort.run_kilosort INFO     Allocated:     0.03 %     |      0.01   /    39.50 GB
2025-03-31 23:46:34,961 kilosort.run_kilosort INFO     Max alloc:     8.36 %     |      3.30   /    39.50 GB
2025-03-31 23:46:34,961 kilosort.run_kilosort INFO     ********************************************************
2025-03-31 23:46:34,962 kilosort.run_kilosort DEBUG    

|===========================================================================|
|                  PyTorch CUDA memory summary, device ID 0                 |
|---------------------------------------------------------------------------|
|            CUDA OOMs: 0            |        cudaMalloc retries: 0         |
|===========================================================================|
|        Metric         | Cur Usage  | Peak Usage | Tot Alloc  | Tot Freed  |
|---------------------------------------------------------------------------|
| Allocated memory      |  14059 KiB |   3381 MiB | 111775 GiB | 111775 GiB |
|---------------------------------------------------------------------------|
| Active memory         |  14059 KiB |   3381 MiB | 111775 GiB | 111775 GiB |
|---------------------------------------------------------------------------|
| Requested memory      |  14054 KiB |   3380 MiB | 111721 GiB | 111721 GiB |
|---------------------------------------------------------------------------|
| GPU reserved memory   |   5232 MiB |   5232 MiB |   5232 MiB |      0 B   |
|---------------------------------------------------------------------------|
| Non-releasable memory |  39189 KiB |   2297 MiB |  77143 GiB |  77143 GiB |
|---------------------------------------------------------------------------|
| Allocations           |      23    |      56    |    7104 K  |    7104 K  |
|---------------------------------------------------------------------------|
| Active allocs         |      23    |      56    |    7104 K  |    7104 K  |
|---------------------------------------------------------------------------|
| GPU reserved segments |      19    |      19    |      19    |       0    |
|---------------------------------------------------------------------------|
| Non-releasable allocs |      12    |      26    |    2975 K  |    2975 K  |
|---------------------------------------------------------------------------|
| Oversize allocations  |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Oversize GPU segments |       0    |       0    |       0    |       0    |
|===========================================================================|


2025-03-31 23:46:34,963 kilosort.run_kilosort INFO      
2025-03-31 23:46:34,963 kilosort.run_kilosort INFO     Saving to phy and computing refractory periods
2025-03-31 23:46:34,963 kilosort.run_kilosort INFO     ----------------------------------------
2025-03-31 23:46:53,916 kilosort.run_kilosort INFO     397 units found with good refractory periods
2025-03-31 23:46:53,917 kilosort.run_kilosort INFO     Total runtime: 404.55s = 00:06:45 h:m:s
2025-03-31 23:46:53,932 kilosort.run_kilosort INFO     Sorting output saved in: /home/lss72/palmer_scratch/spike_sort/kilosort4.
2025-03-31 23:46:53,932 kilosort.run_kilosort INFO      
2025-03-31 23:46:53,932 kilosort.run_kilosort INFO     Resource usage after saving
2025-03-31 23:46:53,933 kilosort.run_kilosort INFO     ********************************************************
2025-03-31 23:46:53,934 kilosort.run_kilosort INFO     CPU usage:    41.50 %
2025-03-31 23:46:53,934 kilosort.run_kilosort INFO     Memory:       14.98 %     |    113.01   /   754.60 GB
2025-03-31 23:46:53,934 kilosort.run_kilosort INFO     ------------------------------------------------------
2025-03-31 23:46:53,935 kilosort.run_kilosort INFO     GPU usage:    `conda install pynvml` for GPU usage
2025-03-31 23:46:53,935 kilosort.run_kilosort INFO     GPU memory:   14.34 %     |      5.66   /    39.50 GB
2025-03-31 23:46:53,936 kilosort.run_kilosort INFO     Allocated:     0.03 %     |      0.01   /    39.50 GB
2025-03-31 23:46:53,936 kilosort.run_kilosort INFO     Max alloc:     8.36 %     |      3.30   /    39.50 GB
2025-03-31 23:46:53,937 kilosort.run_kilosort INFO     ********************************************************
2025-03-31 23:46:53,937 kilosort.run_kilosort DEBUG    

|===========================================================================|
|                  PyTorch CUDA memory summary, device ID 0                 |
|---------------------------------------------------------------------------|
|            CUDA OOMs: 0            |        cudaMalloc retries: 0         |
|===========================================================================|
|        Metric         | Cur Usage  | Peak Usage | Tot Alloc  | Tot Freed  |
|---------------------------------------------------------------------------|
| Allocated memory      |  14059 KiB |   3381 MiB | 111777 GiB | 111777 GiB |
|---------------------------------------------------------------------------|
| Active memory         |  14059 KiB |   3381 MiB | 111777 GiB | 111777 GiB |
|---------------------------------------------------------------------------|
| Requested memory      |  14054 KiB |   3380 MiB | 111722 GiB | 111722 GiB |
|---------------------------------------------------------------------------|
| GPU reserved memory   |   5232 MiB |   5232 MiB |   5232 MiB |      0 B   |
|---------------------------------------------------------------------------|
| Non-releasable memory |  39189 KiB |   2297 MiB |  77145 GiB |  77145 GiB |
|---------------------------------------------------------------------------|
| Allocations           |      23    |      56    |    7118 K  |    7118 K  |
|---------------------------------------------------------------------------|
| Active allocs         |      23    |      56    |    7118 K  |    7118 K  |
|---------------------------------------------------------------------------|
| GPU reserved segments |      19    |      19    |      19    |       0    |
|---------------------------------------------------------------------------|
| Non-releasable allocs |      12    |      26    |    2981 K  |    2981 K  |
|---------------------------------------------------------------------------|
| Oversize allocations  |       0    |       0    |       0    |       0    |
|---------------------------------------------------------------------------|
| Oversize GPU segments |       0    |       0    |       0    |       0    |
|===========================================================================|


