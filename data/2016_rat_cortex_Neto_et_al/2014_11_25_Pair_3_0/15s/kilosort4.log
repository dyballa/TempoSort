2025-05-13 10:20:18,677 kilosort.run_kilosort INFO     Kilosort version 4.0.25
2025-05-13 10:20:18,681 kilosort.run_kilosort INFO     Python version 3.9.21
2025-05-13 10:20:18,681 kilosort.run_kilosort INFO     ----------------------------------------
2025-05-13 10:20:18,682 kilosort.run_kilosort INFO     System information:
2025-05-13 10:20:18,682 kilosort.run_kilosort INFO     Linux-4.18.0-477.74.1.el8_8.x86_64-x86_64-with-glibc2.28 x86_64
2025-05-13 10:20:18,682 kilosort.run_kilosort INFO     x86_64
2025-05-13 10:20:18,683 kilosort.run_kilosort INFO     Using CPU for PyTorch computations. Specify `device` to change this.
2025-05-13 10:20:18,683 kilosort.run_kilosort INFO     ----------------------------------------
2025-05-13 10:20:18,684 kilosort.run_kilosort INFO     Sorting /home/lss72/palmer_scratch/spike_sort/2014_11_25_Pair_3_0
2025-05-13 10:20:18,684 kilosort.run_kilosort DEBUG    Initial ops:

ops = {
    'n_chan_bin': 32,
    'fs': 30000,
    'batch_size': 60000,
    'nblocks': 1,
    'Th_universal': 9,
    'Th_learned': 8,
    'tmin': 0,
    'tmax': 45,
    'nt': 61,
    'shift': None,
    'scale': None,
    'artifact_threshold': inf,
    'nskip': 25,
    'whitening_range': 32,
    'highpass_cutoff': 300,
    'binning_depth': 5,
    'sig_interp': 20,
    'drift_smoothing': [0.5, 0.5, 0.5],
    'nt0min': 20,
    'dmin': None,
    'dminx': 32,
    'min_template_size': 10,
    'template_sizes': 5,
    'nearest_chans': 10,
    'nearest_templates': 100,
    'max_channel_distance': 32,
    'max_peels': 100,
    'templates_from_data': True,
    'n_templates': 6,
    'n_pcs': 6,
    'Th_single_ch': 6,
    'acg_threshold': 0.2,
    'ccg_threshold': 0.25,
    'cluster_downsampling': 20,
    'x_centers': None,
    'duplicate_spike_ms': 0.25,
    'position_limit': 100,
    'data_dir': PosixPath('/home/lss72/palmer_scratch/spike_sort'),
    'filename': PosixPath('/home/lss72/palmer_scratch/spike_sort/2014_11_25_Pair_3_0'),
    'data_dtype': dtype('uint16'),
    'do_CAR': True,
    'invert_sign': False,
    'NTbuff': 60122,
    'Nchan': 32,
    'duplicate_spike_bins': 7,
    'torch_device': 'cpu',
    'save_preprocessed_copy': False
}

2025-05-13 10:20:18,686 kilosort.run_kilosort DEBUG    Probe dictionary:

probe = {
    'chanMap': np.array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16,
       17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31]),
    'xc': np.array([25.5, 25.5, 43.5, 43.5, 43.5, 43.5, 43.5, 43.5, 25.5, 25.5, 43.5,
       43.5, 43.5, 43.5, 25.5, 25.5, 25.5, 25.5,  7.5,  7.5,  7.5,  7.5,
       25.5, 25.5,  7.5,  7.5,  7.5,  7.5,  7.5,  7.5, 25.5, 25.5],
      dtype=np.float32),
    'yc': np.array([282.5, 232.5,  20. ,  45. ,  95. , 145. , 195. , 245. ,  82.5,
        32.5, 220. , 170. , 120. ,  70. , 132.5, 182.5, 157.5, 107.5,
        70. , 120. , 170. , 220. ,   7.5,  57.5, 245. , 195. , 145. ,
        95. ,  45. ,  20. , 207.5, 257.5], dtype=np.float32),
    'kcoords': np.array([0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.,
       0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0., 0.]),
    'n_chan': 32
}

2025-05-13 10:20:18,686 kilosort.run_kilosort INFO      
2025-05-13 10:20:18,687 kilosort.run_kilosort INFO     Computing preprocessing variables.
2025-05-13 10:20:18,687 kilosort.run_kilosort INFO     ----------------------------------------
2025-05-13 10:20:18,689 kilosort.run_kilosort INFO     N samples: 1350000
2025-05-13 10:20:18,689 kilosort.run_kilosort INFO     N seconds: 45.0
2025-05-13 10:20:18,689 kilosort.run_kilosort INFO     N batches: 23
2025-05-13 10:20:18,728 kilosort.run_kilosort INFO     Preprocessing filters computed in  0.04s; total  0.04s
2025-05-13 10:20:18,730 kilosort.run_kilosort DEBUG    hp_filter shape: torch.Size([30122])
2025-05-13 10:20:18,730 kilosort.run_kilosort DEBUG    whiten_mat shape: torch.Size([32, 32])
2025-05-13 10:20:18,730 kilosort.run_kilosort INFO      
2025-05-13 10:20:18,733 kilosort.run_kilosort INFO     Resource usage after preprocessing
2025-05-13 10:20:18,734 kilosort.run_kilosort INFO     ********************************************************
2025-05-13 10:20:18,734 kilosort.run_kilosort INFO     CPU usage:    11.40 %
2025-05-13 10:20:18,735 kilosort.run_kilosort INFO     Memory:        5.27 %     |     39.77   /   754.60 GB
2025-05-13 10:20:18,735 kilosort.run_kilosort INFO     ------------------------------------------------------
2025-05-13 10:20:18,735 kilosort.run_kilosort INFO     GPU usage:    N/A
2025-05-13 10:20:18,736 kilosort.run_kilosort INFO     GPU memory:   N/A
2025-05-13 10:20:18,736 kilosort.run_kilosort INFO     ********************************************************
2025-05-13 10:20:18,737 kilosort.run_kilosort INFO      
2025-05-13 10:20:18,738 kilosort.run_kilosort INFO     Computing drift correction.
2025-05-13 10:20:18,738 kilosort.run_kilosort INFO     ----------------------------------------
2025-05-13 10:20:18,738 kilosort.spikedetect INFO     Re-computing universal templates from data.
2025-05-13 10:20:19,316 kilosort.spikedetect INFO     Number of universal templates: 135
2025-05-13 10:20:19,328 kilosort.spikedetect INFO     Detecting spikes...
2025-05-13 10:20:19,330 kilosort.spikedetect DEBUG     
2025-05-13 10:20:19,330 kilosort.spikedetect DEBUG    Batch 0
2025-05-13 10:20:19,330 kilosort.spikedetect DEBUG    ********************************************************
2025-05-13 10:20:19,330 kilosort.spikedetect DEBUG    CPU usage:    23.10 %
2025-05-13 10:20:19,330 kilosort.spikedetect DEBUG    Memory:        5.27 %     |     39.77   /   754.60 GB
2025-05-13 10:20:19,330 kilosort.spikedetect DEBUG    ------------------------------------------------------
2025-05-13 10:20:19,330 kilosort.spikedetect DEBUG    GPU usage:    N/A
2025-05-13 10:20:19,330 kilosort.spikedetect DEBUG    GPU memory:   N/A
2025-05-13 10:20:19,330 kilosort.spikedetect DEBUG    ********************************************************
